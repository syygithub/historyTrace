<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <style type="text/css">
        body {
            padding: 0;
            margin: 0;
        }
        
        html,
        body,
        #map {
            height: 100%;
        }
    </style>
    <link rel="stylesheet" href="./leaflet/dist/leaflet.css" />
    <script src="./leaflet/dist/leaflet-src.js"></script>
    <script src="./src/historyTrace.js"></script>
</head>

<body>
    <div id='map'>
        <button style="z-index: 1000;position: absolute;left:200px;top:200px" onclick="move()">移动</button>
    </div>
</body>

<script type="text/javascript">
    console.log(11111111111)
    console.log(window.L);

    function move() {
        marker.start();
    }
    var mymap = L.map('map').setView([39, 110], 9);
    var layer = L.tileLayer(
        "http://webrd0{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}", {
            "subdomains": ["1", "2", "3", "4"]
        }
    );
    layer.addTo(mymap);
    var latlngs = [
        [39.5, 110.5],
        [37.7, 109.1]
    ];
    var duration = [3000];
    var polyline = L.polyline(latlngs, {
        color: 'red'
    }).addTo(mymap);
    var marker = L.Marker.historyTrace(latlngs, duration).addTo(mymap);
    marker.on('click', function(e) {
        console.log(e);
    })
</script>

</html>